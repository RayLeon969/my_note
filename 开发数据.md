ls usr测试环境

```shell
putty登录
192.168.13.161:22 login:sunell pwd:sunell2024.
odoo-shell: docker exec -it -u root sunell_scm_fix bash
odoo shell -c /etc/odoo/odoo.conf -d prod_scm -p 8869

线上（注意）：odoo shell -c /etc/odoo/odoo.conf -d prod_wms -p 8870
日志打印：/usr/odoo_shell
		./scm_log.sh
		
日更环境数据库：/mnt/new/backup/backup
		
161日更环境的代码路径：/usr/local/fix/sunell_scm
重启日更环境：docker restart sunell_scm_fix

scp拉取远端shell中的数据：
首先检查.ssh中有没有多余的文件，一般只有git的rsa文件和host文件即可，其他的都删除。
scp的执行环境是在本地shell进行
scp -P 22 username@remote_host:/path/file ./local_path 
scp -P 22 sunell@192.168.13.161:/mnt/new/backup/backup/20241224-0130/pg_backup_20241224-0130.sql.gz ./  可以直接输入这个根据日期改除了sql还有odoo_scm_20241224-0130.tar

密码：sunell2024.
然后输入远端的密码就行

注意这种还原是直接还原了线上的数据，还要执行本地化的脚本
SCM：
注意执行scm脚本之前，要直接去数据库中修改表wms_settings的值  而且update_scm_setting方法填的是wms的地址和端口，wms那边也同理
from odoo.addons.base_ext.script import update_system_setting; 
update_system_setting.update_scm_setting(env, 'localhost', '8169'); 
from odoo.addons.base_ext.script import update_system_setting; 
update_system_setting.update_background_color(env, '#54BBFC'); env.ref('scm.scm_settings_data_1').modify_redis_ip_and_port(ip='172.20.0.5', port=6379, commit=1)

WMS：
from odoo.addons.base_ext.script import update_system_setting; 
update_system_setting.update_wms_setting(env, 'localhost', '8069'); 
from odoo.addons.base_ext.script import update_system_setting; 
update_system_setting.update_background_color(env, '#54BBFC')

数据库用户：project_manage
	密码:sunell
	
	
	scp username@remote_host:/path/to/remote/file /path/to/local/directory
	


数据中心测试服：
192.168.123.151 sunell/Qs39aZ6w
/opt/flask_test/flask_config
 docker logs -f --tail=100 sunell_flask_test
 docker restart sunell_flask_test



app_key: 'dingr2nrpipwk0gjlwnn'
app_secret: '4pKOWGVVdo5BzGjMAA79ZcPPeSnG8HZz19mXzqXdnkUTIhzC3RjnkC1aI5-Pgihy'


https://pypi.org/simple 官方镜像

https://pypi.tuna.tsinghua.edu.cn/simple 清华镜像

中国科学技术大学 : https://pypi.mirrors.ustc.edu.cn/simple

阿里云：http://mirrors.aliyun.com/pypi/simple/

pip isntall <module> -i 镜像 --trusted-host mirrors.aliyun.com
```

![image-20241109095947293](F:\note\my_note\assets\image-20241109095947293.png)

```
union_id : Fd38s6oVnjywacuVObYiPvwiEiE 我的 726220868
			ZUBpt5et95ORdzGes68HvwiEiE 耀泽的 336058475
			师伟 233453444124168759   G49GRFDj8tTESoQb7E3uXQiEiE
			
```

```
26
31.5
25 + 9 = 34
```

```json
POST /v1.0/workflow/processInstances HTTP/1.1
Host:api.dingtalk.com
Content-Type:application/json

{
    /*
      该接口当前尚未支持审批应用中的所有控件，以以下列出示例的控件为准。
      基本的控件数据在传递时只需要填写 name 和 value 属性即可，两者都是字符串格式。
      如果数据是 json 格式，也需要先转义为字符串格式。
    */ 
    "processCode": "PROC-17428B8C-6C60-xxxx-924C-64F1037AE067",
    "originatorUserId": "26652461xxxx5992",
    "deptId": 1,
    "microappAgentId": 1234,
    "formComponentValues":[
        {
            "name": "单行输入框",
            "value": "单行输入框示例"
        },
        {
            "name": "多行输入框",
            "value": "请输入多行文本内容，需要换行时请输入\r\n"
        },
        {
            "name": "数字输入框",
            "value": "100"
        },
        {
            /*
                value 可以直接填写实际的选项值
                选项值-如"选项1"必须是配置的选项列表中的值
                非法选项值后续有发起失败风险
            */
            "name": "单选框",
            "value": "选项1"
        },
        {
            /*
                value 需要将实际的选项值组成的数组转义为字符串，即使只有一个
                选项也需要是数组形式
                选项值-如"选项1"、"选项2"必须是配置的选项列表中的值
                非法选项值后续有发起失败风险
            */
            "name": "多选框",
            "value": "[\"选项1\",\"选项2\"]"
        }, 
        {
            /*
                value 仅支持 yyyy-MM-dd 一种格式
            */
            "name": "日期",
            "value": "2021-08-17"
        },
        {
            /*
                value 是时间数组的字符串形式，同样仅支持 yyyy-MM-dd 一种格式
            */
            "name": "[\"开始时间\",\"结束时间\"]",
            "value": "[\"2019-02-19\",\"2019-02-25\"]"
        },
        {
            /*
                value 需要将实际的 url 组成的数组转义为字符串，即使只有一个
                选项也需要是数组形式
            */
            "name": "图片",
            "value": "[\"http://url1\",\"http://url2\",\"http://url3\"]"
        },
        {
            /*
                表格控件的 value 是一个 json 对象的二维数组。数组中的每一行表示了表格中的一行数据，
                一行中的每个 json 对象表示表格中的一个控件。
            */
            "name": "表格",
            "value": "[[{\"name\":\"单行输入框\",\"value\":\"明细单行输入框\"},{\"name\":\"数字输入框\",\"value\":\"100\"}]]"
        },
        {
            "name": "金额（元）",
            "value": "100"
        },
        {
            /*
                附件控件的 value 是一个 json 数组转义为字符串形式。数组中的每个 json 对象是一个附件文件，
                每个文件都必须包含 spaceId、fileName、fileSize、fileType 和 fileId 字段，这些字段
                都可以通过调用钉盘的上传附件接口获取。
            */
            "name": "附件",
            "value": "[{\"spaceId\": \"163xxxx658\", \"fileName\": \"2644.JPG\", \"fileSize\": \"333\", \"fileType\": \"jpg\", \"fileId\": " +
    "\"643xxxx140\"}]"
        },
        {
            /*
                联系人中传的值是userId
                如果传入的userId不是当前企业在职的用户userId, 后续有发起失败风险
            */
            "name": "联系人",
            "value": "[\"4525xxxxxxxx77041\"]"
        },
        {
            /*
                value 需要将实际的审批单组成的数组转义为字符串，即使只有一个
                选项也需要是数组形式
                传入不存在的审批实例ID，后续有导致发起失败的风险
            */
            "name": "关联审批单",
            "value": "[\"fa2aa864-xxxx-xxxx-xxxx-75572c0e2cdf\", \"7125778e-xxxx-xxxx-xxxx-faa987478a9b\"]"
        },
        {
            /*
                国内手机号 +86 加不加均可，国际手机号需加国际区号，否则可能导致无法解析；
                固话区号加不加均可
            */
        	"name": "电话",
          	"value": "157xxxx4545"
        },
        {
            /*
                省市区必须遵照地址控件的格式正确传递才可识别，且需使用英文格式逗号进行分隔
            */
          	"name": "省市区",
          	"value": "北京,北京市,河东区"
        },
        {
          	"name": "评分",
          	"value": "5"
        },
        {
            /*
                value 是钉钉通讯录内部门的id。当选择多个部门时，value 用英文逗号分隔
                如果传入的是非法的部门ID，后续有导致审批发起失败风险
            */
          	"name": "部门",
          	"value": "钉钉通讯录部门1的id,钉钉通讯录部门2的id"
        }
    ],
    "targetSelectActioners":[
        {
            "actionerKey": "manual_f953_8c70_xxxx_7ffa",
            "actionerUserIds": ["26652461xxxx5992", "011220460xxxx8765"]
        }
    ],
    "approvers": [
        {
            "actionType": "AND",
            "userIds": ["26652461xxxx5992", "011220460xxxx8765"]
        }
    ],
    "ccList": ["25054456xxxx0123"],
    "ccPosition": "START",
    "RequestId" : "4F73A5B6-81E5-1556-BC35-C2912C84993D"
}
```









<font size=4 color='pink'>1234</font>

==11==

<p align='right'>右对齐</p>

[百度](www.baidu.com)

:smile::100:

:crying_cat_face:

:anger:

:boom:

:star::star::star::star::star:

emoj触发方式  :英文:

> [!NOTE]
>
> 111123

> [!WARNING]
>
> 23123213

> [!CAUTION]
>
> 12512512

> [!TIP]
>
> 111111

> [!IMPORTANT]
>
> 22222

引用：ctrl + shift + q + [!NOTE] or [!WARNING] or [!CAUTION] or [!IMPORTANT] or [!TIP]
