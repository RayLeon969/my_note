ls usr测试环境

```shell
putty登录
192.168.13.161:22 login:sunell pwd:sunell2024.
odoo-shell: docker exec -it -u root sunell_scm_fix bash
odoo shell -c /etc/odoo/odoo.conf -d prod_scm -p 8870

线上（注意）：odoo shell -c /etc/odoo/odoo.conf -d prod_wms -p 8870
日志打印：/usr/odoo_shell
		./scm_log.sh
		
日更环境数据库：/mnt/new/backup/backup
		
161日更环境的代码路径：/usr/local/fix/sunell_scm
重启日更环境：docker restart sunell_scm_fix

scp拉取远端shell中的数据：
首先检查.ssh中有没有多余的文件，一般只有git的rsa文件和host文件即可，其他的都删除。
scp的执行环境是在本地shell进行
scp -P 22 username@remote_host:/path/file ./local_path 
然后输入远端的密码就行

		
数据库用户：project_manage
	密码:sunell
	
	
	scp username@remote_host:/path/to/remote/file /path/to/local/directory
	
	
拉数据库升级后干掉表：mrp_result_line_detail升级会快很多

app_key: 'dingr2nrpipwk0gjlwnn'
app_secret: '4pKOWGVVdo5BzGjMAA79ZcPPeSnG8HZz19mXzqXdnkUTIhzC3RjnkC1aI5-Pgihy'
```

![image-20241109095947293](F:\note\my_note\assets\image-20241109095947293.png)





```
bom反查测试用例
单独
110-01-00-0011-01
140-40-10-0742-01
110-01-00-0007-01


包含：
130-20-20-0021-01|150-21-20-0014-01|163-20-00-0072-01

相等：
100-00-20-0001-01|170-61-00-0004-01|170-61-00-0021-01|170-61-00-0022-01|170-61-00-0043-01|300-000-0152

越南相等：
620-40-320-00397  100-10-00-0779-01|100-30-30-0245-01
170-18-30-0018-01
170-60-00-0015-01
170-60-00-0012-02
170-13-00-0047-01
170-18-30-0301-02
170-46-30-0231-03
290-000-0008-02

bom比对，新增主件底数条件用例
620-30-420-01024|620-40-420-00396
150-11-20-0039-01 组成用量不同 主件底数相同
170-61-00-0021-01 组成用量相同 主件底数不同
170-61-00-0022-01 组成用量不同 主件底数不同
```

```
    采购单邮件附件转zip代码
    import io
import zipfile
import base64
    
    def purchase_order_send(self):
        try:
            self.email_cc = self.email_cc_show
            # 创建一个 BytesIO 对象以存储压缩文件
            attachments = self.attachment_ids
            zip_buffer = io.BytesIO()
            with zipfile.ZipFile(zip_buffer, 'w') as zip_file:
                for attachment in attachments:
                    # 将每个附件添加到压缩文件中
                    zip_file.writestr(attachment.name, base64.b64decode(attachment.datas))

                # 将光标移回到 BytesIO 对象的开头
            zip_buffer.seek(0)

            self.attachment_ids = [(5, 0, 0)]
            # 创建新附件
            zip_data = base64.b64encode(zip_buffer.getvalue())
            zip_attachment = self.env['ir.attachment'].create({
                'name': self.subject + '.zip',
                'type': 'binary',
                'datas': zip_data,
                'res_model': self.purchase_order_id._name,
                'res_id': self.id,
                'mimetype': 'application/zip',
            })
            self.attachment_ids = [(4, zip_attachment.id)]
            super(MailMail, self).send()
        finally:
            if self.failure_reason:
                raise ValidationError(self.failure_reason)
                
                
                110-61-20-0026-01
                110-66-20-0017-01
                110-66-20-0021-01
                110-74-20-0031-01
                
                


```





<font size=4 color='pink'>1234</font>

==11==

<p align='right'>右对齐</p>

[百度](www.baidu.com)

:smile::100:

:crying_cat_face:

:anger:

:boom:

:star::star::star::star::star:

emoj触发方式  :英文:

> [!NOTE]
>
> 111123

> [!WARNING]
>
> 23123213

> [!CAUTION]
>
> 12512512

> [!TIP]
>
> 111111

> [!IMPORTANT]
>
> 22222

引用：ctrl + shift + q + [!NOTE] or [!WARNING] or [!CAUTION] or [!IMPORTANT] or [!TIP]
